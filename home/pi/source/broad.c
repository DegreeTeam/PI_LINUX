#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <signal.h>
#include <errno.h>
# define BUFSIZE 1024
main (int argc, char *argv[])
{
   int sd;
   struct sockaddr_in s_addr;
   int n, n_send, status;
   int on = 1;

	int loop =20000;
short sndBuffer[] = {1755,5757,12592,6441,2077,9786,7812,2038,542,1620,131,-3014,-3311,-6461,-4254,-3271,-7155,-4786,-1263,-360,-841,1889,3931,4559,5263,4546,6250,6734,5599,4785,5454,5879,4553,3741,4084,5020,4483,4816,-1819,-8002,3398,-1519,-16224,-9892,-3344,-9321,-18948,-9666,-4472,-11406,-6900,-4386,-1857,1809,3485,2603,3766,12204,8029,1846,8736,10173,2993,-773,3651,1739,-3878,-2685,-4605,-4891,-3587,-6017,-6153,-2000,42,-2098,818,4120,4164,4434,4637,6037,6311,5906,4257,4571,5881,3793,2571,3023,4251,3203,2651,4087,-4750,-5935,4106,-5649,-13696,-7073,-3197,-10856,-16545,-5869,-6371,-10393,-5299,-3515,-2247,937,5014,1587,3417,11996,6772,2811,8155,9640,2593,221,5250,429,-3180,-1200,-2995,-5042,-4674,-4439,-5777,-2797,-1145,-2151,332,2838,3260,3179,4592,5140,5399,5624,4623,4710,5123,3951,2816,2866,3147,2441,2285,4257,-1707,-6933,1276,-1717,-9836,-7229,-4626,-8563,-12551,-5339,-6683,-11502,-5049,-1855,-3927,-3402,3208,3225,1188,7241,6659,4131,6564,8387,4420,1773,5572,2391,-991,299,-833,-3503,-4142,-3073,-4610,-4364,-2898,-2544,-1177,522,1208,1509,3355,4321,4277,4546,4749,4929,4778,3915,2996,2939,2349,1755,1861,1842,2828,-822,-4761,-394,-862,-4927,-5641,-4730,-5487,-8388,-5885,-5972,-8228,-5966,-3872,-3445,-3812,-464,996,675,3671,4140,3893,4370,5983,4982,2900,4242,3158,1676,1367,850,-512,-1979,-1227,-2075,-2732,-2267,-2116,-1538,-572,64,347,1459,1960,2326,3029,2996,2778,3012,2964,2156,1756,1689,1058,605,623,825,1243,1204,-1260,-1528,-16,-594,-1669,-2901,-3047,-4024,-4447,-3364,-4457,-5361,-4522,-3384,-3406,-2756,-928,-1339,-841,1175,1729,1354,1909,2875,2094,2176,3137,2461,1671,1997,2278,1352,1441,1785,575,23,543,473,-264,-203,-105,-287,-12,365,150,-209,-175,-246,-239,0,59,-79,-51,384,655,739,1083,1339,1550,1960,2067,1178,782,813,262,-179,-608,-1166,-2252,-2861,-2672,-3184,-3466,-3299,-3392,-3469,-3197,-2410,-1911,-1447,-986,-581,166,888,1298,1350,1396,1598,1837,2132,2396,2414,2055,1830,1961,2024,1811,1478,1166,746,399,136,-120,-383,-689,-979,-1240,-1291,-1228,-1156,-1050,-856,-395,-27,210,565,898,1116,1178,1284,1423,1454,1443,1161,753,544,335,-2,-256,-363,-844,-1556,-1719,-1805,-2077,-2070,-1939,-2073,-2227,-1882,-1603,-1388,-897,-556,-434,-346,27,273,344,754,1049,1117,1193,1390,1503,1449,1593,1572,1372,1238,1050,722,391,274,2,-334,-444,-526,-683,-726,-583,-499,-454,-318,-243,-147,53,165,240,315,345,379,460,570,629,772,941,936,853,826,828,783,645,489,228,-198,-611,-947,-1248,-1481,-1588,-1749,-1935,-1927,-1880,-1802,-1540,-1217,-1114,-1030,-693,-458,-310,61,446,616,750,982,1111,1183,1379,1488,1425,1334,1201,959,778,704,495,263,146,-39,-293,-460,-538,-648,-732,-719,-737,-676,-523,-375,-179,48,291,519,719,928,1084,1212,1333,1447,1473,1360,1199,1010,801,533,282,14,-357,-771,-1213,-1627,-1955,-2125,-2147,-2155,-2125,-2031,-1900,-1748,-1495,-1086,-710,-365,-15,260,469,642,817,954,1081,1206,1258,1265,1243,1168,1031,887,756,576,370,190,30,-76,-161,-256,-336,-433,-531,-544,-419,-278,-149,20,140,168,252,393,449,480,589,853,1268,1632,1731,1484,1046,620,263,58,81,63,-186,-583,-1109,-1673,-2088,-2207,-2138,-1988,-1721,-1507,-1424,-1360,-1193,-958,-669,-218,187,432,618,725,739,732,771,795,822,891,910,852,664,438,307,148,-45,-193,-257,-269,-280,-287,-307,-355,-359,-215,35,427,837,1055,1076,1005,892,824,953,1162,1314,1399,1406,1321,1225,1157,835,212,-238,-708,-1306,-1603,-1706,-1926,-2291,-2494,-2754,-3094,-2922,-2434,-1952,-1307,-536,0,229,610,916,1013,1286,1576,1619,1516,1452,1198,777,609,478,148,-45,-188,-663,-1041,-1197,-1322,-1217,-790,-316,76,454,633,675,791,999,1230,1589,1928,2089,2191,2239,2146,2080,2101,2245,2721,2200,948,267,-1183,-2609,-3287,-3433,-3623,-4138,-3902,-4393,-5103,-4675,-4039,-3163,-1863,-110,893,1313,2311,2464,2418,2849,3189,3027,2651,2562,1624,639,270,-396,-937,-1277,-1572,-2248,-2641,-2643,-2536,-1658,-609,434,1223,1804,1848,1830,2072,2495,3259,3939,4411,4545,4360,4056,3654,3387,4264,3319,552,-378,-3317,-6282,-7147,-7362,-7328,-7754,-6440,-6987,-7795,-6103,-5024,-3245,-482,2473,3847,4332,5747,4789,4146,4725,4409,3967,3493,3001,711,-930,-1703,-3410,-3906,-3778,-4003,-4056,-3344,-2693,-1747,262,1704,3106,4111,4171,3838,3908,4194,4422,5342,5774,5504,5534,5272,4221,4444,3454,-301,-1875,-4577,-7850,-8931,-9133,-8810,-9543,-8165,-8204,-9026,-6797,-5079,-2813,466,3806,5485,5847,7116,5886,4833,5263,4418,3862,3257,2377,-120,-1978,-2933,-4929,-5253,-4730,-4610,-3969,-2706,-1944,-801,1281,2548,3967,5138,5116,4847,4904,4835,4806,5671,6011,6065,6431,5520,4889,4447,707,-1952,-4193,-8003,-9295,-9984,-9599,-9853,-9119,-8199,-9228,-7540,-5665,-3667,-296,3032,5583,6207,7261,6675,4867,5014,4072,3367,3055,2310,553,-1541,-2607,-4878,-5811,-5390,-5199,-4104,-2531,-1228,-210,1605,2611,3604,4798,4952,5283,5561,5701,5637,6079,6238,6324,6594,5891,6171,4392,28,-2157,-6409,-9795,-10438,-10931,-9980,-9881,-8502,-8846,-9077,-6972,-5835,-2573,1136,4418,6768,7403,7908,6007,4781,4208,2878,3018,2508,1817,103,-1588,-3285,-5611,-6034,-6007,-5235,-3591,-1776,-251,978,2330,2892,3764,4232,4609,5376,5736,6051,6331,6645,6475,6611,6337,6105,6106,2488,-693,-3490,-8489,-10245,-11273,-11264,-10578,-9603,-8538,-9343,-7844,-6573,-4886,-990,2344,5605,7454,8478,7812,5788,5083,3274,2600,2620,1883,1130,-422,-1927,-4338,-5618,-6080,-6089,-4445,-2878,-1017,500,1791,2488,3092,3662,3737,4668,5173,5646,6093,6376,6387,6257,6533,6004,6255,5715,1778,-675,-4140,-8848,-10298,-11377,-11166,-10779,-9296,-8741,-9254,-7368};
   sd = socket (AF_INET, SOCK_DGRAM, 0);

   bzero(&s_addr, sizeof(s_addr));
   s_addr.sin_family = AF_INET;
   s_addr.sin_addr.s_addr = inet_addr("192.168.42.255");
   s_addr.sin_port = htons(2008);

   if((status = setsockopt(sd, SOL_SOCKET, SO_BROADCAST, &on, sizeof(on))) != 0 )
   {
      printf("setsockopt error\n");
      exit(-1);
   }

   while(1)
   {
      if ((n_send = sendto(sd, sndBuffer, sizeof(sndBuffer), 0, (struct sockaddr *)&s_addr, sizeof(s_addr))) < 0 ) {
         fprintf(stderr, "sendto() error");
         exit(-3);
      }
	while(loop--){}
loop=20000;
   }
   close(sd);
}


